<!-- 
Author       : Ramaguru Radhakrishnan
Date Updated : 27.04.2020
-->

<!DOCTYPE html>
<html>
<head>
    <title>NamChain Tutorials - Events Notification Handling Demo</title>
    <meta charset="utf-8" />
</head>
<body>

    <script src="https://cdn.jsdelivr.net/npm/web3@1.2.7/dist/web3.js"></script>
    <script>
		window.onload = function () {

		// check to see if user has metamask addon installed on the browser.
		if (typeof web3 ==='undefined') {

			web3 = new Web3(new Web3.providers.HttpProvider("https://ropsten.infura.io/v3/cbd9dc11b30147e9a2cc974be655ef7c")); 
			// We are using Infura Service to interact with Ropsten Testnetwork of Ethereum Blockchain

		}
		else {
				// set the provider you want from Web3.providers
				web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
		}
		
		}

		web3 = new Web3(new Web3.providers.WebsocketProvider("wss://ropsten.infura.io/ws/v3/cbd9dc11b30147e9a2cc974be655ef7c"));
		
		var sub = web3.eth.subscribe('logs', { address : '0x7d35606eACAc8652f2a38c5a52128100e6545871', topics : ['0x5b2bcb27bc35fa11cb69d16f0c1ce1acc6145c6579b86e65f67f41c1e2f47aef'] },
		function(error, result) {
			if(!error)
				console.log(result.data)
				});
		
		
    </script>

    <center>
        <h3> Check the Console </h3>
	<center>
</body>
</html>
